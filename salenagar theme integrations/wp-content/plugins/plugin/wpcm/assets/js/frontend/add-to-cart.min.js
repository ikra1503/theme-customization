!function(a){var t={el:"",res:{msg:"",type:"error"},init:function(){a(".wpcm-add-cart-button.button-ajax").on("click",".ajax_add_to_cart",a=>{this.add_to_cart(a)})},add_to_cart:function(t){t.preventDefault();var e=t.target,s=a(e).parent(),i=a(e).attr("id"),n=wpcm_cart_button[i];this.el=e,void 0!==n?(a.extend(n,{subaction:"ajax_add_to_cart",is_ajax:!0,action:wpcm_data.ajax_action}),s.find(".wpcm-ajax-processing").removeClass("hide"),a.ajax({url:wpcm_data.ajaxurl,type:"POST",data:n,success:a=>{a.success?this.res={type:"success",msg:a.message}:this.res={type:"error",msg:a.message},s.find(".wpcm-ajax-processing").addClass("hide"),this.notif(),a.success&&a.redirect&&(window.location=a.redirect)},fail:a=>{s.find(".wpcm-ajax-processing").addClass("hide")}})):alert("no data provide")},notif(){let t=a(this.el).parent();t.find(".action-response").length||t.prepend('<div class="action-response"></div>'),t.find(".action-response").addClass(this.res.type).html(this.res.msg).slideDown(),setTimeout(()=>{t.find(".action-response").slideUp()},1e4)}};a(document).ready(t.init())}(window.jQuery);
